/*! wizer 0.2.0 2015-11-28 17:35:20 */
!function(a){"use strict";String.format||(String.format=function(a){var b=Array.prototype.slice.call(arguments,1);return a.replace(/{(\d+)}/g,function(a,c){return"undefined"!=typeof b[c]?b[c]:a})}),a.mixin({extendClone:function(b){return a.extend.apply(a,[{},b].concat(a.rest(arguments)))},mergeClone:function(b){return a.merge.apply(a,[{},b].concat(a.rest(arguments)))}})}(_);var wizer=wizer||{};wizer.identity=function(a){return a},wizer.utils=function(a,b){return a.guid=function(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()}}(),a.fileExt=function(a){if(a&&b.isString(a)){var c=a.lastIndexOf(".");if(c>=0&&c<a.length-1)return a.slice(c+1)}return""},a.fileNameWithoutExt=function(a){if(a&&b.isString(a)){var c=a.lastIndexOf(".");return c>-1?a.slice(0,c):a}return""},a}(wizer.utils||{},_),wizer.constants=function(a){return a.spListFieldType={JSON:"json",DATE_TIME:"datetime",LOOKUP:"lookup",MULTI_LOOKUP:"multilookup",PERSON:"person",PEOPLE:"people"},a}(wizer.constants||{}),wizer.deprecation=function(a){_.set(a,"warning.enable",!0),_.set(a,"warning.verbose",!1);var b=function(){function b(a){return _.contains(c,a)?!0:(c.push(a),!1)}var c=[];return function(c){a.warning.enable&&(!b(c)||a.warning.verbose)&&console.warn("wizer warning: "+c)}}();return a.migrateToFieldConfigs=function(a){function c(b){var c=_.find(a.fields,"name",b);return c||(c=new d(b),a.fields.push(c)),c}var d=wizer.sharepoint.SPListField;_.isFunction(a.schema.afterGet)&&a.schema.afterGet!==wizer.identity&&(b("`$SPList.configs.schema.afterGet` is deprecated, consider using `$SPList.configs.schema.response.parsing` instead"),_.contains(a.schema.response.parsing,a.schema.afterGet)||a.schema.response.parsing.push(a.schema.afterGet)),_.any(_.flatten(_.map(a.fieldConverters,_.identity)))&&(b("`$SPList.configs.fieldConverters` is deprecated, consider using `$SPList.configs.fields.type` instead"),_.forEach(a.fieldConverters,function(a,b){b=b.toLowerCase(),_.forEach(a,function(a){var d=c(a);"lookup"===b?(d.type="custom",d.parsers.response=[function(a){return _.isArray(a&&a.results)?a.results:a}],d.parsers.request=[function(a,b){delete b[d.name],void 0!==a&&(_.isArray(a)?b[d.name+"Id"]={results:_.pluck(a,"Id")}:b[d.name+"Id"]=_.get(a,"Id",null))}]):d.type=b})})),_.forEach(a.fields,function(a){a.afterGet!==wizer.identity&&_.isFunction(a.afterGet)&&(b("`$SPList.configs.fields.afterGet` is deprecated, consider using `$SPList.configs.fields.parsers.response` instead"),_.contains(a.parsers.response,a.afterGet)||a.parsers.response.push(a.afterGet)),a.beforePost!==wizer.identity&&_.isFunction(a.beforePost)&&(b("`$SPList.configs.fields.beforePost` is deprecated, consider using `$SPList.configs.fields.parsers.request` instead"),_.contains(a.parsers.request,a.beforePost)||a.parsers.request.unshift(a.beforePost))}),_.isFunction(a.schema.beforePost)&&a.schema.beforePost!==wizer.identity&&(b("`$SPList.configs.schema.beforePost` is deprecated, consider using `$SPList.configs.schema.request.parsed` instead"),_.contains(a.schema.request.parsed,a.schema.beforePost)||a.schema.request.parsed.push(a.schema.beforePost)),_.any(a.select)&&(b("`$SPList.configs.select` is deprecated, consider using `$SPList.configs.fields` instead"),_.forEach(a.select,function(a){var b=a.split("/")[0],d=a.split("/")[1],e=c(b);d&&(e.expand=e.expand||[],e.expand.push(d))})),_.any(a.expand)&&(b("`$SPList.configs.expand` is deprecated, consider using `$SPList.configs.fields` instead"),_.forEach(a.expand,function(a){var b=c(a);b.type=b.type||"lookup"}))},a}(wizer.deprecation||{}),function(a){"use strict";a&&(a.module("wizer.data",[]),a.module("wizer.sharepoint",["wizer.data"]),a.module("wizer",["wizer.data","wizer.sharepoint"]))}(angular);var wizer=function(a,b){"use strict";var c=function(a){var d=b.isFunction(this)?Object.create(this.prototype):{},e={init:function(){}};b.extend(d,e,a),b.forEach(b.functions(d),function(a){if(d.hasOwnProperty(a)){var c=d[a];d[a]=function(){var a=this.$super;this.$super=Object.getPrototypeOf(d);var e=c.apply(this,b.slice(arguments));return void 0===a?delete this.$super:this.$super=a,e}}});var f=function(){d.init.apply(this,b.slice(arguments))};return f.prototype=d,f.prototype.constructor=f,f.extend=c,f};return a.Class=c(),a}(wizer||{},_),wizer=wizer||{};wizer.utils=function(a,b){"use strict";return a.ArgsParser=wizer.Class.extend({init:function(a){this.$$overloads=b.map(a,function(a){return b.map(a,function(a,b){return{argName:b,argType:a}})})},parse:function(a){function c(c){function d(){return e=null,!1}var e={};return b.forEach(a,function(a,f){var g=c[f];if(!g)return d();if(null!=a){var h=b["is"+g.argType];if(!h(a))return d()}e[g.argName]=a}),e}var d=null;if(b.forEach(this.$$overloads,function(a){return d=c(a),!d}),!d)throw new Error("No suitable overload was found!");return d}}),a}(wizer.utils||{},_);var wizer=wizer||{};wizer.sharepoint=function(a,b){"use strict";var c=wizer.Class.extend({init:function(a,c){if(!b.isString(a))throw new Error("Expect name is a string, but got "+a);this.name=a,b.defaultsDeep(this,c,{type:"",readonly:!1,expand:!1,parsers:{request:null,response:null}}),this.$normalizeConfigs()},$normalizeConfigs:function(){function a(a,c){a[c]=function(){var d=a[c];return b.isArray(d)?d:null!=d?[d]:[]}()}a(this.parsers,"request"),a(this.parsers,"response")}});return c.parseConfigs=function(a){return b.isArray(a)?b.map(a,function(a){return b.isString(a)?new c(a):b.isObject(a)?new c(a.name,a):void 0}):b.isObject(a)?b.map(a,function(a,b){return new c(b,a)}):[]},a.SPListField=c,a}(wizer.sharepoint||{},_);var wizer=wizer||{};wizer.sharepoint=function(a,b){"use strict";function c(a){var d=this.extend({init:function(c){this.$super.init.call(this,b.defaultsDeep({},c,a))}});return d.define=c,d}function d(a){var b=a.extend;a.extend=function(e){var f=b.call(a,e);return f.define=c,d(f),f}}var e=wizer.constants.spListFieldType,f=wizer.sharepoint.SPListField,g=wizer.Class.extend({init:function(a){!function(){if(!a)throw new Error("Configs must be specified.");a.siteUrl=function(){var c="undefined"!=typeof a.siteUrl?a.siteUrl:".";return c=$(String.format("<a href='{0}'></a>",c))[0].href,c=b.endsWith(c,"/")?c.slice(0,c.length-1):c}();var c=["listName"];b.forEach(c,function(b){if(!a[b])throw new Error(String.format("Config's '{0}' field is mandatory.",b))})}(),this.$configs=b.defaultsDeep({},a,{siteUrl:null,listName:null,fields:{},schema:{afterGet:wizer.identity,beforePost:wizer.identity,request:{parsing:null,parsed:null},response:{parsing:null,parsed:null}}}),this.configs(b.cloneDeep(this.$configs))},define:function(a){var c=this.constructor.define.call(this.constructor,b.omit(this.$configs,"dataSource"));return new c(a)},configs:function(a){return arguments.length>0&&a!==this.$$configs&&(this.$$configs=a,this.$normalizeConfigs(),this.$updateFieldParsers()),this.$$configs},dataSource:function(a){return null!=a&&(this.$configs.dataSource=a),this.$configs.dataSource},$normalizeConfigs:function(){function a(a,c){a[c]=function(){var d=a[c];return b.isArray(d)?d:null!=d?[d]:[]}()}var c=this.configs();a(c.schema.request,"parsing"),a(c.schema.request,"parsed"),a(c.schema.response,"parsing"),a(c.schema.response,"parsed"),c.fields=f.parseConfigs(c.fields)},$updateFieldParsers:function(){function a(a){a.parsers.request.unshift(function(a){return JSON.stringify(a)}),a.parsers.response.unshift(function(a){return b.isString(a)&&""!==a?JSON.parse(a):null})}function c(a){a.parsers.request.unshift(function(a){return a&&a.toJSON()}),a.parsers.response.unshift(function(a){return b.isString(a)&&""!==a?new Date(a):null})}function d(a){a.expand=a.expand||!0,a.parsers.request.unshift(function(c,d){delete d[a.name],void 0!==c&&(d[a.name+"Id"]=b.get(c,"Id",null))})}function f(a){a.expand=a.expand||!0,a.parsers.response.unshift(function(a){return b.get(a,"results",[])}),a.parsers.request.unshift(function(c,d){delete d[a.name],void 0!==c&&(d[a.name+"Id"]={results:b.pluck(c,"Id")})})}function g(a){a.parsers.request=[function(b,c){delete c[a.name]}]}b.forEach(this.configs().fields,function(b){switch(/\*/.test(b.name)&&(b.readonly=!0),b.type){case e.JSON:a(b);break;case e.DATE_TIME:c(b);break;case e.LOOKUP:d(b);break;case e.MULTI_LOOKUP:f(b);break;case e.PERSON:d(b);break;case e.PEOPLE:f(b)}b.readonly&&g(b)})}});return g.define=c,d(g),a.SPList=g,a}(wizer.sharepoint||{},_),function(a,b){"use strict";a&&a.module("wizer.data").factory("$DataSource",[function(){return b.data.DataSource.extend({init:function(a){this.$super.init.call(this,a)}})}])}(angular,wizer),function(a,b,c){"use strict";var d=a.deprecation,e=a.utils.ArgsParser;b&&b.module("wizer.sharepoint").factory("$SPList",["$q","$http","$SPListDataSource","$SPListItem","$SPListItemCollection",function(b,f,g,h,i){function j(a,d,e){return c.reduce(a,function(a,b){return a.then(function(){return d.apply(e,[b].concat(c.slice(arguments)))})},b.when())}return a.sharepoint.SPList.extend({init:function(b){b=c.defaultsDeep({},b,{fieldConverters:{json:[],lookup:[],dateTime:[]},dataSource:new g(this)}),c.forEach(b.fields,function(b){c.defaultsDeep(b,{afterGet:a.identity,beforePost:a.identity})}),this.$super.init.call(this,b)},get:function(a,b){if(!(a>0||b&&b.url))throw new Error("expect itemId to be a positive integer, but got "+a);var c=this;return this.dataSource().get(a,b).then(function(a){return c.$$parseGetResponse(a)})},getAll:function(a,b){var c=this,d=new e([{itemIds:"Array",httpConfigs:"Object"},{httpConfigs:"Object"}]).parse(arguments);return this.dataSource().getAll(d.itemIds,d.httpConfigs).then(function(a){return c.$$parseGetAllResponse(a)})},create:function(a,b){var c=this;return this.$$parseClientItem(a).then(function(a){return c.dataSource().add(a,b)}).then(function(a){return c.$$parseGetResponse(a)})},createAll:function(a,d){var e=this;return b.all(c.map(a,function(a){return e.create(a,d)}))},update:function(a,b){var c=this;return this.$$parseClientItem(a).then(function(a){return c.dataSource().update(a,b)}).then(function(a){return c.$$parseGetResponse(a)})},updateAll:function(a,d){var e=this;return b.all(c.map(a,function(a){return e.update(a,d)}))},remove:function(a,b){return this.dataSource().remove(a,b)},removeAll:function(a,d){var e=this;return b.all(c.map(a,function(a){return e.remove(a,d)}))},save:function(a,b){return a.Id>0?this.update(a,b):this.create(a,b)},saveAll:function(a,b){var d=this;return c.map(a,function(a){return d.save(a,b)})},getByUrl:function(a){return this.get(null,{url:a})},getAllByUrl:function(a){return this.getAll({url:a})},getFolder:function(a){var b=this.dataSource().$$getListUrl()+"/RootFolder";return"."!==a&&(b+="/Folders/GetByUrl('"+a+"')"),f.get(b,{headers:{accept:"application/json;odata=verbose"}}).then(function(a){return a.data.d})},getRootFolder:function(){return this.getFolder(".")},hasFolder:function(a){return this.getFolder(a).then(function(a){return{hasFolder:!0,folder:a}})["catch"](function(){return{hasFolder:!1}})},createFolder:function(a){var b=this.dataSource().$$getListUrl()+"/RootFolder/Folders/Add('"+a+"')";return f.post(b,null,{headers:{accept:"application/json;odata=verbose","X-REQUESTDIGEST":$("#__REQUESTDIGEST").val()}}).then(function(a){return a.data.d})},ensureFolder:function(a){if("."===a)return this.getRootFolder();var b=this;return this.hasFolder(a).then(function(c){return c.hasFolder?c.folder:b.createFolder(a)})},$updateFieldParsers:function(){d.migrateToFieldConfigs(this.configs()),this.$super.$updateFieldParsers.call(this)},$$parseServerItem:function(a){if(null==a)return b.when(null);var d=this.configs();return b.when().then(function(){return j(d.schema.response.parsing,function(c){return b.when(c(a)).then(function(b){void 0!==b&&(a=b)})})}).then(function(){return b.all(c.map(d.fields,function(c){return j(c.parsers.response,function(d){return b.when(d(a[c.name],a)).then(function(b){void 0!==b&&(a[c.name]=b)})})}))}).then(function(){return j(d.schema.response.parsed,function(c){return b.when(c(a)).then(function(b){void 0!==b&&(a=b)})})}).then(function(){return new h(a)})},$$parseClientItem:function(a){if(null==a)return b.when(null);var d=this.configs();return a=c.cloneDeep(a),b.when().then(function(){return j(d.schema.request.parsing,function(c){return b.when(c(a)).then(function(b){void 0!==b&&(a=b)})})}).then(function(){return b.all(c.map(d.fields,function(c){return j(c.parsers.request,function(d){return b.when(d(a[c.name],a)).then(function(b){void 0!==b&&(a[c.name]=b)})})}))}).then(function(){return j(d.schema.request.parsed,function(c){return b.when(c(a)).then(function(b){void 0!==b&&(a=b)})})}).then(function(){return a})},$$parseGetResponse:function(a){return this.$$parseServerItem(a.data.d)},$$parseGetAllResponse:function(a){var d=this;return b.all(c.map(a.data.d.results,function(a){return d.$$parseServerItem(a)})).then(function(b){return i.create(b,d,{current:a.config,next:a.data.d.__next})})}})}])}(wizer,angular,_),function(a,b,c){"use strict";var d=b.utils.ArgsParser;a&&a.module("wizer.data").factory("$SPListDataSource",["$q","$http","$DataSource",function(a,b,e){var f=function(){var e={};return c.set(e,"init",function(a,b){this.$$splist=a,this.$super.init.call(this,b)}),c.set(e,"transport.create",function(a){var d=this;return this.$validatePostData(a.item).then(function(e){return b.post(d.$$getItemUrl(),e,c.extendClone(d.$$defaultHttpConfigs().create(),a.httpConfigs))}).then(function(b){return d.get(b.data.d.Id,a.httpConfigs)})}),c.set(e,"transport.read",function(a){var d=c.mergeClone(this.$$defaultHttpConfigs().get(),a.httpConfigs),e=d.url||this.$$getItemUrl(a.itemId);return b.get(e,d)}),c.set(e,"transport.update",function(a){var d=this,e=c.get(a,"item.Id");if(!(e>0))throw new Error(String.format("Invalid itemId. Expect positive integer, but get {0}",e));return this.$validatePostData(a.item).then(function(f){return b.post(d.$$getItemUrl(e),f,c.extendClone(d.$$defaultHttpConfigs().update(),a.httpConfigs))}).then(function(){return d.get(e,a.httpConfigs)})}),c.set(e,"transport.remove",function(d){var e=this;return a.when().then(function(){return b.post(e.$$getItemUrl(d.itemId),void 0,c.extendClone(e.$$defaultHttpConfigs().remove(),d.httpConfigs))}).then(function(a){return a.data})}),c.set(e,"get",function(a,b){return this.$$invokeTransport("read",{itemId:a,httpConfigs:b})}),c.set(e,"getAll",function(a,b){var e=new d([{itemIds:"Array",httpConfigs:"Object"},{httpConfigs:"Object"}]).parse(arguments);if(c.any(e.itemIds)){b=b||{};var f=c.reduce(e.itemIds,function(a,b,c){return a+=String.format("(Id eq {0})",b),a+=c<e.itemIds.length-1?" or ":""},""),g=c.get(b,"params.$filter","");g=g?String.format("({0}) and ({1})",g,f):f,c.set(b,"params.$filter",g)}return this.$$invokeTransport("read",{httpConfigs:b})}),c.set(e,"add",function(a,b){return this.$$invokeTransport("create",{item:a,httpConfigs:b})}),c.set(e,"update",function(a,b){return this.$$invokeTransport("update",{item:a,httpConfigs:b})}),c.set(e,"remove",function(a,b){return this.$$invokeTransport("remove",{itemId:a,httpConfigs:b})}),c.set(e,"$validatePostData",function(d){function e(){return a.when().then(function(){return b.get(f.$$getListUrl()+"?$select=ListItemEntityTypeFullName",{cache:!0,headers:{accept:"application/json;odata=verbose"}})}).then(function(a){return c.get(a,"data.d.ListItemEntityTypeFullName")})}var f=this;return e().then(function(a){return c.chain({}).extend(d,{__metadata:{type:a}}).omit(["Id","ID"]).value()})}),c.set(e,"$$getListUrl",function(){return String.format("{0}/_api/lists/getByTitle('{1}')",this.$$splist.configs().siteUrl,this.$$splist.configs().listName)}),c.set(e,"$$getItemUrl",function(a){var b=this.$$getListUrl()+"/items";return b+=a>0?String.format("({0})",a):""}),c.set(e,"$$invokeTransport",function(b){function d(a){var b=c.get(e,"transport."+a);if(!b)throw new Error(String.format("No {0} transport configurations.",a));return b}var e=this,f=d(b);return c.isFunction(f)?a.when(f.apply(this,c.rest(arguments))):void 0}),c.set(e,"$$defaultHttpConfigs",function(){function a(){var a={},d=[],e=[];return c.forEach(b.$$splist.configs().fields,function(a){if(a.expand){var b=function(){return a.expand===!0?["Id","Title"]:c.isArray(a.expand)?a.expand:[]}();c.forEach(b,function(b){d.push(String.format("{0}/{1}",a.name,b))}),e.push(a.name)}else d.push(a.name)}),c.any(d)&&c.set(a,"params.$select",d.join(",")),c.any(e)&&c.set(a,"params.$expand",e.join(",")),a}var b=this;return{create:function(){return{headers:{accept:"application/json;odata=verbose","content-type":"application/json;odata=verbose","X-RequestDigest":$("#__REQUESTDIGEST").val()}}},get:function(){return c.extend(a(),{headers:{accept:"application/json;odata=verbose"}})},update:function(){return c.extend({headers:{accept:"application/json;odata=verbose","content-type":"application/json;odata=verbose","X-RequestDigest":$("#__REQUESTDIGEST").val(),"IF-MATCH":"*","X-HTTP-Method":"MERGE"}})},remove:function(){return{headers:{accept:"application/json;odata=verbose","X-RequestDigest":$("#__REQUESTDIGEST").val(),"IF-MATCH":"*","X-HTTP-Method":"DELETE"}}}}}),e}();return e.extend(f)}])}(angular,wizer,_),function(a,b,c){"use strict";a&&a.module("wizer.data").factory("$SPListItem",[function(){return b.Class.extend({init:function(a){c.extend(this,a)}})}])}(angular,wizer,_),function(a,b,c){"use strict";a&&a.module("wizer.data").factory("$SPListItemCollection",["$q",function(a){var d=b.ArrayClass.extend({init:function(a,b,d){if(null==b)throw new Error("splist is required");this.$super.init.apply(this,a),this.$$splist=b,this.$$meta=c.extendClone(d)},hasNext:function(){return!!this.$$meta.next},hasPrevious:function(){return c.any(this.$$meta.previous)},getNext:function(){function b(){return c.isString(f.$$meta.next)?f.$$splist.getAllByUrl(f.$$meta.next):f.$$splist.getAll(f.$$meta.next)}if(!this.hasNext()){var e=d.create([],this.$$splist,{previous:c.union(this.$$meta.previous,this.$$meta.current?[this.$$meta.current]:[]),current:null,next:null});return a.when(e)}var f=this;return b().then(function(a){return a.$$meta.previous=c.union(f.$$meta.previous,f.$$meta.current?[f.$$meta.current]:[]),a})},getPrevious:function(){if(!this.hasPrevious()){var b=d.create([],this.$$splist,{previous:null,current:null,next:this.$$meta.current||this.$$meta.next});return a.when(b)}var e=this;return this.$$splist.getAll(c.last(this.$$meta.previous)).then(function(a){return a.$$meta.previous=c.initial(e.$$meta.previous),a})},pageIndexStart:function(){return 0===this.length?0:this.$$getPreviousItemCount()+1},pageIndexEnd:function(){return 0===this.length?0:this.$$getPreviousItemCount()+this.length},$$getPreviousItemCount:function(){function a(a){var b=0;try{b=parseInt(a.params.$top)}catch(c){}if(b)return b;var d=/\?.*\$top *=( *\d* *)/;try{var e=d.exec(decodeURIComponent(a.url));b=parseInt(e[1].trim())}catch(c){}return b}return c.reduce(this.$$meta.previous,function(b,c){return b+a(c)},0)}});return d.create=function(a,b,c){return new d(a,b,c)},d}])}(angular,wizer,_),function(a,b,c){"use strict";a&&a.module("wizer.sharepoint").factory("$SPDocumentLibrary",["$http","$q","$SPList",function(a,d,e){return e.extend({init:function(a){this.$super.init.call(this,a)},uploadDocument:function(b,c,d){function e(b){return a.get(b.ListItemAllFields.__deferred.uri,{headers:{accept:"application/json;odata=verbose"}}).then(function(a){return a.data.d})}function f(a,b){return b?g.update(_.extend(b,{Id:a.Id})):g.get(a.Id)}d=d||".";var g=this;return this.$$uploadFile(b,d).then(function(a){return e(a)}).then(function(a){return f(a,c)})},$$uploadFile:function(a,e){function f(a){if(!FileReader)throw new Error("This browser does not support the FileReader API.");var b=d.defer(),c=new FileReader;return c.onloadend=function(a){b.resolve(a.target.result)},c.onerror=function(a){b.reject(a.target.error)},c.readAsArrayBuffer(a),b.promise}function g(a,b){var c=d.defer();return $.ajax({url:a,type:"POST",data:b,processData:!1,headers:{Accept:"application/json;odata=verbose","X-RequestDigest":$("#__REQUESTDIGEST").val()},success:function(a){c.resolve(a.d)},error:function(a){c.reject(a)}}),c.promise}if(!(a instanceof b))throw new Error("Expect a file, but got "+a);var h,i,j=this;return d.when().then(function(){return f(a).then(function(a){h=a})}).then(function(){return j.ensureFolder(e).then(function(b){var d=String.format("{0}_{1}.{2}",c.fileNameWithoutExt(a.name),(new Date).valueOf(),c.fileExt(a.name));i=b.Files.__deferred.uri+"/add(overwrite=true, url='"+d+"')"})}).then(function(){return g(i,h)})}})}])}(angular,File,wizer.utils);var wizer=function(a){"use strict";var b=["concat","join","pop","push","shift","slice","splice","unshift"],c={init:function(){this.push.apply(this,arguments)}};return _.forEach(b,function(a){c[a]=function(){return Array.prototype[a].apply(this,arguments)}}),a.ArrayClass=a.Class.extend(c),a}(wizer||{}),wizer=wizer||{};wizer.data=function(a,b,c){"use strict";var d={};return d.init=function(a){var d=b.defaultsDeep({},a,{data:c,requestSchema:{},responseSchema:{data:c,requestSchema:{},parse:function(a){return a}}});d.data&&(d.data=b.clone(d.data)),this.$configs=d},d.data=function(){return this.$configs.data?this.$configs.data:void 0},a.DataSource=wizer.Class.extend(d),a}(wizer.data||{},_);var wizer=wizer||{};wizer.data=function(a,b,c){"use strict";var d=function(a){var e=b.defaultsDeep({},a,{id:"id",fields:{}});b.forEach(e.fields,function(a,d){e.fields[d]=b.defaultsDeep({},a,{defaultValue:c,from:c,parse:function(a){return a}})});var f=this.extend({init:function(a){this.$$data=a,this.$$local={},this.__proto__.$configs=b.defaultsDeep(e,this.$super.$configs)}});return f.define=d,f},e=wizer.Class.extend({get:function(a){if(this.$$data){if(this.$$local[a]!==c)return this.$$local[a];var b=this.$configs.fields[a];if(!b)return this.$$data[a];var d=b.from||a,e=b.parse(this.$$data[d]);return e===c?b.defaultValue:e}},set:function(a,b){return b===c?delete this.$$local[a]:this.$$local[a]=b,b}});return e.define=d,a.Model=e,a}(wizer.data||{},_);
//# sourceMappingURL=wizer.min.js.map